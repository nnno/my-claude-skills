# カテゴリ判定基準とワークフローパターン

## カテゴリ判定基準

| カテゴリ | 判定条件 | 代表例 |
|---|---|---|
| **Category 1: Document & Asset Creation** | 一貫した高品質の成果物（文書・プレゼン・アプリ・デザイン・コード等）の作成が目的。外部ツール不要でClaude組み込み機能で完結する場合が多い。 | frontend-design, docx, pptx, xlsx |
| **Category 2: Workflow Automation** | 一貫した方法論に基づくマルチステッププロセスの自動化。複数MCPサーバーの連携を含む場合もある。 | skill-creator |
| **Category 3: MCP Enhancement** | 既存MCPサーバーのツールアクセスに対し、ワークフローガイダンスを追加して強化する。 | sentry-code-review |

**判定のヒント:**
- 外部サービス連携なし → Category 1 の可能性が高い
- 複数ステップの定型プロセス → Category 2 の可能性が高い
- 既にMCPサーバーがある → Category 3 の可能性が高い
- 複数カテゴリにまたがる場合もある（主カテゴリを1つ選定）

## ワークフローパターン（5種）

カテゴリに応じて最適なパターンを推薦する。複数パターンの組み合わせも可能。

### Pattern 1: Sequential Workflow Orchestration（逐次ワークフロー）
- 適用条件: マルチステッププロセスを特定の順序で実行する必要がある場合
- 主な技法: 明示的なステップ順序、ステップ間の依存関係、各段階でのバリデーション、失敗時のロールバック指示
- 適合カテゴリ: Category 2, 3

### Pattern 2: Multi-MCP Coordination（複数MCP連携）
- 適用条件: ワークフローが複数のサービスにまたがる場合
- 主な技法: 明確なフェーズ分離、MCP間のデータ受け渡し、次フェーズ移行前のバリデーション、集中エラーハンドリング
- 適合カテゴリ: Category 3

### Pattern 3: Iterative Refinement（反復改善）
- 適用条件: 反復によって出力品質が向上する場合
- 主な技法: 明示的な品質基準、反復的な改善、バリデーションスクリプト、反復停止条件の明確化
- 適合カテゴリ: Category 1, 2

### Pattern 4: Context-aware Tool Selection（コンテキスト適応型ツール選択）
- 適用条件: 同じ目的に対し、コンテキストに応じて異なるツールを使い分ける場合
- 主な技法: 明確な判定基準、フォールバック選択肢、選択理由の透明性
- 適合カテゴリ: Category 2, 3

### Pattern 5: Domain-specific Intelligence（ドメイン特化知識）
- 適用条件: ツールアクセス以上に専門知識を付加する場合
- 主な技法: ドメイン知識をロジックに組み込み、アクション前のコンプライアンスチェック、包括的なドキュメンテーション、明確なガバナンス
- 適合カテゴリ: Category 1, 3

## ユーザーへの出力フォーマット

```
【カテゴリ判定】
  主カテゴリ: Category X - [名称]
  判定理由: [根拠]

【推薦パターン】
  主パターン: Pattern X - [名称]
  補助パターン: Pattern Y - [名称]（該当する場合）
  選定理由: [根拠]
```
